{"version":3,"sources":["webpack:///D:/code/bishe/weixin-mypro/components/pickCity/pickCity.vue?a81e","webpack:///D:/code/bishe/weixin-mypro/components/pickCity/pickCity.vue?6bf7","webpack:///D:/code/bishe/weixin-mypro/components/pickCity/pickCity.vue?e4d7","webpack:///D:/code/bishe/weixin-mypro/components/pickCity/pickCity.vue?9cc5","uni-app:///components/pickCity/pickCity.vue"],"names":["name","data","value","array","index","created","methods","initSelect","updateAddressDate","$forceUpdate","columnchange","d","updateSourceDate","updateSelectIndex","column","arr","selectVal","bindPickerChange","e"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqH;AACrH;AAC4D;AACL;;;AAGvD;AACsK;AACtK,gBAAgB,6KAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,mFAAM;AACR,EAAE,4FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,uFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAonB,CAAgB,knBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;ACOxoB,8E;;;;;;AACA,6B,eACA,EACAA,gBADA,EAEAC,IAFA,kBAEA,CACA,SACAC,gBADA;MAEAC,SAFA;MAGAC,QAHA;;EAKA,CARA;EASAC,OATA,qBASA;IACA;EACA,CAXA;EAYAC;IACA;IACAC,UAFA,wBAEA;MACA;MAAA,CACAC,iBADA,GACA;MADA,CAEAC,YAFA,GADA,CAGA;IACA,CANA;IAOA;IACAC,YARA,wBAQAC,CARA,EAQA;MACA;MAAA,CACAC,gBADA,GACA;MADA,CAEAJ,iBAFA,GAEA;MAFA,CAGAC,YAHA,GADA,CAIA;IACA,CAbA;IAcA;AACA;AACA;IACAG,gBAjBA,8BAiBA;MACA;MACA;QACA;UACAZ,cADA;;MAGA,CAJA;MAKA;QACA;UACAA,cADA;;MAGA,CAJA;MAKA;QACA;UACAA,SADA;;MAGA,CAJA;MAKA;IACA,CAnCA;IAoCA;AACA;AACA;IACAa,iBAvCA,6BAuCAC,MAvCA,EAuCAZ,KAvCA,EAuCA;MACA;MACAa;MACA;QACAA;QACAA;MACA;MACA;QACAA;MACA;MACA;MACA;IACA,CAnDA;IAoDA;AACA;AACA;IACAP,iBAvDA,+BAuDA;MACAQ;MACAA;MACAA;MACA;IACA,CA5DA;;IA8DA;AACA;AACA;IACAC,gBAjEA,4BAiEAC,CAjEA,EAiEA;MACA;QACAd,iBADA;QAEAH,eAFA;;MAIA;IACA,CAvEA,EAZA,E","file":"components/pickCity/pickCity.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./pickCity.vue?vue&type=template&id=40f11b84&\"\nvar renderjs\nimport script from \"./pickCity.vue?vue&type=script&lang=js&\"\nexport * from \"./pickCity.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/pickCity/pickCity.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pickCity.vue?vue&type=template&id=40f11b84&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pickCity.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pickCity.vue?vue&type=script&lang=js&\"","<template>\n\t<picker @change=\"bindPickerChange\" @columnchange=\"columnchange\" :range=\"array\" range-key=\"name\" :value=\"value\" mode=\"multiSelector\">\n\t\t<slot></slot>\n\t</picker>\n</template>\n\n<script>\r\n  import cityData from './data.js'\r\n  let selectVal=['','','']\n  export default {\n    name:\"pickCity\",\n    data() {\n      return {\n        value: [0,0,0],\r\n        array: [],\r\n        index: 0\r\n      };\n    },\r\n    created() {\r\n      this.initSelect()\r\n    },\r\n    methods:{\r\n      // 初始化地址选项\r\n      initSelect() {\r\n        this.updateSourceDate() // 更新源数据\r\n        .updateAddressDate() // 更新结果数据\r\n        .$forceUpdate()  // 触发双向绑定\r\n      },\r\n      // 地址控件改变控件\r\n      columnchange(d) {\r\n          this.updateSelectIndex(d.detail.column, d.detail.value) // 更新选择索引\r\n          .updateSourceDate() // 更新源数据\r\n          .updateAddressDate() // 更新结果数据\r\n          .$forceUpdate()  // 触发双向绑定\r\n      },\r\n     /**\r\n       * 更新源数据\r\n       * */\r\n      updateSourceDate() {\r\n        this.array = []\r\n        this.array[0] = cityData.map(obj => {\r\n          return {\r\n            name: obj.name\r\n          }\r\n        })\r\n        this.array[1] = cityData[this.value[0]].city.map(obj => {\r\n          return {\r\n            name: obj.name\r\n          }\r\n        })\r\n        this.array[2] = cityData[this.value[0]].city[this.value[1]].area.map(obj => { \r\n          return {\r\n            name: obj\r\n          }\r\n        })\r\n        return this\r\n      },\r\n      /**\r\n       * 更新索引\r\n       * */\r\n      updateSelectIndex(column, value){\r\n        let arr = JSON.parse(JSON.stringify(this.value)) \r\n        arr[column] = value\r\n        if(column === 0 ) {\r\n          arr[1] = 0\r\n          arr[2] = 0\r\n        }\r\n        if(column === 1 ) {\r\n          arr[2] = 0\r\n        }\r\n        this.value = arr\r\n        return this\r\n      },\r\n        /**\r\n         * 更新结果数据 \r\n         * */\r\n        updateAddressDate() {\r\n          selectVal[0] = this.array[0][this.value[0]].name\r\n          selectVal[1] = this.array[1][this.value[1]].name \r\n          selectVal[2] = this.array[2][this.value[2]].name \r\n          return this\r\n        },\r\n      \t\t\t\r\n        /**\r\n         * 点击确定\r\n         * */\r\n        bindPickerChange(e) {\r\n          this.$emit('change', {\r\n            index: this.value,\r\n            data: selectVal\r\n          })\r\n          return this\r\n        }\r\n    }\n  }\n</script>\n\n<style lang=\"scss\">\n\n</style>"],"sourceRoot":""}