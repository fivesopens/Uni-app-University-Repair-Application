{"version":3,"sources":["uni-app:///main.js","webpack:///D:/code/bishe/weixin-mypro/pages/regFault/regFault.vue?d2fa","webpack:///D:/code/bishe/weixin-mypro/pages/regFault/regFault.vue?5ad9","webpack:///D:/code/bishe/weixin-mypro/pages/regFault/regFault.vue?1842","webpack:///D:/code/bishe/weixin-mypro/pages/regFault/regFault.vue?5303","uni-app:///pages/regFault/regFault.vue","webpack:///D:/code/bishe/weixin-mypro/pages/regFault/regFault.vue?e5f6","webpack:///D:/code/bishe/weixin-mypro/pages/regFault/regFault.vue?47e3"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","name","data","value","cnt","tmpList","imgUrl","faultInfo","nickName","userName","workerName","phone","faultArea","address","faultType","ctx","imgUrl1","imgUrl2","orderState","date","pictureList","imageStyles","width","height","formData","num","worker","area","type","rules","required","errorMessage","minLength","maxLength","validateFunction","callback","onReady","onShow","methods","change","e","changeType","submit","valiForm","a","i","uni","url","filePath","success","fail","res","icon","title","console","setTimeout","catch","reqFault","method","select","obj","selWorker","deleteimg","reload"],"mappings":"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","file":"pages/regFault/regFault.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/regFault/regFault.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./regFault.vue?vue&type=template&id=10c07b74&scoped=true&\"\nvar renderjs\nimport script from \"./regFault.vue?vue&type=script&lang=js&\"\nexport * from \"./regFault.vue?vue&type=script&lang=js&\"\nimport style0 from \"./regFault.vue?vue&type=style&index=0&id=10c07b74&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"10c07b74\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/regFault/regFault.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./regFault.vue?vue&type=template&id=10c07b74&scoped=true&\"","var components\ntry {\n  components = {\n    uniForms: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-forms/components/uni-forms/uni-forms\" */ \"@/uni_modules/uni-forms/components/uni-forms/uni-forms.vue\"\n      )\n    },\n    uniFormsItem: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-forms/components/uni-forms-item/uni-forms-item\" */ \"@/uni_modules/uni-forms/components/uni-forms-item/uni-forms-item.vue\"\n      )\n    },\n    uniEasyinput: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput\" */ \"@/uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput.vue\"\n      )\n    },\n    uniDataSelect: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-data-select/components/uni-data-select/uni-data-select\" */ \"@/uni_modules/uni-data-select/components/uni-data-select/uni-data-select.vue\"\n      )\n    },\n    uniFilePicker: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-file-picker/components/uni-file-picker/uni-file-picker\" */ \"@/uni_modules/uni-file-picker/components/uni-file-picker/uni-file-picker.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./regFault.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./regFault.vue?vue&type=script&lang=js&\"","<template>\r\n<view class=\"body\">\n  <view class=\"form-body\">\n    <uni-forms ref=\"valiForm\" :modelValue=\"formData\" label-position=\"left\" :border='true'> \r\n        <uni-forms-item label=\"姓名\" label-width=\"70px\" name=\"name\">\r\n          <uni-easyinput :inputBorder=\"false\" v-model=\"formData.name\" placeholder=\"请输入姓名\" />\r\n        </uni-forms-item>\r\n        <uni-forms-item label=\"手机号码\" label-width=\"70px\" name=\"phone\">\r\n          <uni-easyinput :inputBorder=\"false\" v-model=\"formData.phone\" placeholder=\"请输入手机号\" />\r\n        </uni-forms-item>\r\n        <uni-forms-item label=\"报修区域\" label-width=\"70px\" name=\"area\">\r\n          <uni-data-select\r\n               placeholder=\"请选择报修区域\"\r\n               :localdata=\"formData.area\"\r\n               @change=\"change\"\r\n             ></uni-data-select>\r\n        </uni-forms-item>\r\n        <uni-forms-item label=\"详细地点\" label-width=\"70px\" name=\"num\">\r\n          <uni-easyinput :inputBorder=\"false\" v-model=\"formData.num\" placeholder=\"例:荷3-222\" />\r\n        </uni-forms-item>\r\n        <uni-forms-item label=\"报修类型\" label-width=\"70px\" name=\"type\">\r\n          <uni-data-select\r\n               placeholder=\"请选择故障类型\"\r\n               :localdata=\"formData.type\"\r\n               @change=\"changeType\"\r\n             ></uni-data-select>\r\n        </uni-forms-item>\r\n        <uni-forms-item label=\"维修师傅\" label-width=\"70px\" name=\"worker\" >\r\n           <uni-easyinput :inputBorder=\"false\" v-model=\"formData.worker\" placeholder=\"请选择维修师傅\" @focus=\"selWorker\" />\r\n        </uni-forms-item>\r\n        <uni-forms-item label=\"故障描述\" label-width=\"70px\" name=\"ctx\">\r\n          <uni-easyinput :inputBorder=\"false\"  type=\"textarea\" v-model=\"formData.ctx\" placeholder=\"请输入详细故障描述\" />\r\n        </uni-forms-item>\r\n       <uni-forms-item  label-width=\"0px\">\r\n         <uni-file-picker \r\n          limit=\"2\" \r\n          title=\"上传故障图片\"  \r\n          file-mediatype=\"image\"\r\n          file-extname=\"png,jpg\"\r\n          :imageStyles=\"imageStyles\"\r\n          v-model=\"pictureList\"\r\n          @select=\"select\" \r\n          @delete=\"deleteimg\"\r\n          @success=\"success\" \r\n          @fail=\"fail\"\r\n          :auto-upload=\"false\"\r\n          ref=\"files\"\r\n          ></uni-file-picker>\r\n          \r\n          \r\n       </uni-forms-item>\r\n    </uni-forms>\n  </view>\r\n  \r\n  <view class=\"bottom-submit\">\r\n  \t<button class=\"submit\" type=\"primary\" @click=\"submit\">提交</button>\r\n  </view>\r\n\r\n</view>\n</template>\n\n<script>\n  export default {\n    name:\"my-form\",\n    data() {\n      return {\r\n        value: 0,\r\n        cnt:1,\r\n        tmpList:'',\r\n        imgUrl:[],\r\n        faultInfo:{\r\n          nickName:'',\r\n          userName:'',\r\n          workerName:'',\r\n          phone:'',\r\n          faultArea:'',\r\n          address:'',\r\n          faultType:'',\r\n          ctx:'',\r\n          imgUrl1:'',\r\n          imgUrl2:'',\r\n          orderState:'未接单',\r\n          date:'',\r\n        },\r\n        pictureList:[],\r\n        imageStyles: {\r\n            width: 100,\r\n            height: 100,\r\n          },\r\n        \r\n       // 校验表单数据\n        formData:{\r\n          name:'',\r\n          phone:'',\r\n          num:'',\r\n          ctx:'',\r\n          worker:'',\r\n          area: [\r\n            { value: \"河东\", text: \"河东\" },\r\n            { value: \"河西\", text: \"河西\" },\r\n          ],\r\n          type:[\r\n            { value:\"水力故障\" , text: \"水力故障\" },\r\n            { value:\"电力故障\", text: \"电力故障\" },\r\n            { value:\"网络故障\", text: \"网络故障\" },\r\n            { value:\"其他故障\", text: \"其他故障\" },\r\n          ]\r\n        },\r\n        rules:{\r\n          //对name字段进行必填验证\r\n         name:{\r\n           rules:[\r\n               {\r\n                 required:true,\r\n                 errorMessage: '请输入姓名',\r\n               },\r\n               {\r\n                 minLength: 2,\r\n                 maxLength: 5,\r\n                 errorMessage: '姓名长度在 {minLength} 到 {maxLength} 个字符',\r\n               }\r\n            ]\r\n          },\r\n         phone:{\r\n            rules:[\r\n              {\r\n                required: true,\r\n                errorMessage: '请填写手机号码',\r\n              },\r\n             {\r\n               validateFunction:function(rule,value,data,callback){\r\n                let iphoneReg = (\r\n                  /^(13[0-9]|14[1579]|15[0-3,5-9]|16[6]|17[0123456789]|18[0-9]|19[89])\\d{8}$/\r\n                ); \r\n                 if (!iphoneReg.test(value)) {\r\n                    callback('手机号码格式不正确，请重新填写')\r\n                  }else{\r\n                    return true\r\n                  }\r\n               }\r\n             },\r\n            ]\r\n          },\r\n         num:{\r\n           rules:[\r\n             {\r\n               required: true,\r\n               errorMessage: '请填写报修地址',\r\n             },\r\n          ]\r\n         },\r\n         ctx:{\r\n           rules:[\r\n            {\r\n              required:true,\r\n              errorMessage: '请输入故障描述',\r\n            },\r\n            {\r\n               validateFunction:function(rule,value,data,callback){\r\n                 if(value.length<5){\r\n                   callback('故障描述太短，请输入5个字以上的描述')\r\n                 }else if(value.length>50){\r\n                   callback('请输入简短的故障描述')\r\n                 }else{\r\n                   return true\r\n                 }\r\n               }\r\n            }\r\n           ]\r\n         },\r\n         worker:{\r\n           rules:[\r\n             {\r\n               required:true,\r\n               errorMessage: '请选择维修师傅',\r\n             },\r\n           ]\r\n         }\r\n        }\n      }; \n    },\r\n    onReady() {\r\n      this.$refs.valiForm.setRules(this.rules)\r\n    },\r\n    onShow() {\r\n      this.formData.worker = uni.getStorageSync('workerName')\r\n    },\r\n    methods:{\r\n        change(e) {\r\n            this.faultInfo.faultArea = e\r\n        },\r\n        changeType(e){\r\n          this.faultInfo.faultType = e\r\n        },\r\n       async submit(valiForm){\r\n          \r\n          this.$refs.valiForm.validate().then(async res=>{\r\n             \r\n             if(this.pictureList.length !=0){\r\n                  \r\n                  let a=0\r\n                  this.$refs.files.upload()\r\n                  for(var i = 0;i<this.pictureList.length;i++){\r\n                   await uni.uploadFile({\r\n                      url: 'http://127.0.0.1/api/uploadfault',\r\n                      filePath:this.pictureList[i].url,\r\n                      name:'file',\r\n                      success: (uploadFileRes) => {\r\n                         this.imgUrl.push(uploadFileRes.data)\r\n                         if(a==0){\r\n                          \r\n                           this.faultInfo.imgUrl1 = this.imgUrl[0]\r\n                           a++\r\n                         }\r\n                         if(a==1){\r\n              \r\n                           this.faultInfo.imgUrl2 = this.imgUrl[1]\r\n                         }\r\n                         \r\n                      },\r\n                      fail(res) {\r\n                        uni.showToast({\r\n                          icon:'error',\r\n                          title:'上报失败'\r\n                        })\r\n                        console.log(res)\r\n                      }\r\n                    })\r\n                            \r\n                  }\r\n                  \r\n             }else{\r\n               uni.showToast({\r\n                 icon:'none',\r\n                 title:'请选择要上传的图片'\r\n               })\r\n             }\r\n            this.faultInfo.nickName = uni.getStorageSync('nickName') \r\n            this.faultInfo.userName = res.name\r\n            this.faultInfo.workerName = res.worker\r\n            this.faultInfo.phone =res.phone\r\n            this.faultInfo.address = res.num\r\n            this.faultInfo.ctx = res.ctx\r\n            this.faultInfo.imgUrl1 = this.imgUrl[0]\r\n            this.faultInfo.imgUrl2 = this.imgUrl[1]\r\n            this.faultInfo.date = Date.now()\r\n\r\n           setTimeout(this.reqFault,1000)\r\n            \r\n          }).catch(err =>{\r\n            console.log('表单错误信息：', err);\r\n          })\r\n\r\n        },\r\n       \r\n       async reqFault(){\r\n          const res = await this.$https({\r\n              url:'/insfault',\r\n              method:'POST',\r\n              data:this.faultInfo\r\n          })\r\n          \r\n          if(res.code ==200){\r\n              uni.showLoading({\r\n                title:'正在上传'\r\n              })\r\n              \r\n              setTimeout(function(){\r\n                uni.hideLoading()\r\n                uni.showToast({\r\n                  icon:'success',\r\n                  title:res.message\r\n                })\r\n              },1500)\r\n              \r\n              uni.removeStorageSync('workerName')\r\n              \r\n              setTimeout(function(){\r\n                uni.redirectTo({\r\n                  url:'/pages/myFault/myFault'\r\n                })\r\n              },2000)\r\n              \r\n          }else{\r\n              uni.showLoading({\r\n                title:'正在上传'\r\n              })\r\n              \r\n              setTimeout(function(){\r\n                uni.hideLoading()\r\n                uni.showToast({\r\n                  icon:'none',\r\n                  title:res.message\r\n                })\r\n              },1500)\r\n              \r\n              setTimeout(this.reload,2000)\r\n          }     \r\n     \r\n       },\r\n       \r\n       select(e){\r\n            this.tmpList = []\r\n            if(this.cnt ===1){\r\n              this.pictureList = e.tempFiles\r\n            }else{\r\n              this.pictureList = this.pictureList.concat(e.tempFiles)\r\n             \r\n            }\r\n          \r\n            for(var i = 0;i<this.pictureList.length;i++){\r\n              var obj = new Object()\r\n              obj.name = 'file'\r\n              obj.url = this.pictureList[i].path\r\n              this.tmpList.push(obj)\r\n            }\r\n          \r\n            this.cnt++\r\n       },\r\n       \r\n       \r\n       selWorker(){\r\n         uni.navigateTo({\r\n           url: '/pages/select-worker/select-worker',\r\n         });\r\n       },\r\n       // 删除图片\r\n       deleteimg(e){\r\n         \r\n         var index = this.pictureList.findIndex(item =>{\r\n            \r\n           if(item ==e.tempFile){\r\n              return true\r\n           }\r\n         })\r\n         \r\n         this.pictureList.splice(index,1)\r\n         this.tmpList = []\r\n         for(var i = 0;i<this.pictureList.length;i++){\r\n           var obj = new Object()\r\n           obj.name = 'file'\r\n           obj.url = this.pictureList[i].path\r\n           this.tmpList.push(obj)\r\n         }\r\n       \r\n       },\r\n       \r\n       // 上传成功\r\n       success(e){\r\n       },\r\n       \r\n       // 上传失败\r\n       fail(e){\r\n         console.log('上传失败：',e)\r\n       },\r\n        \r\n        //刷新页面\r\n       reload(){\r\n         var pages = getCurrentPages() //获取所有页面的数组对象\r\n         var currPage = pages[pages.length-1] //当前页\r\n         uni.reLaunch({\r\n           url:currPage.$page.fullPath\r\n         })\r\n       } \r\n    }\n  }\n</script>\n\n<style lang=\"scss\" scoped>\r\n  .body{\r\n    .form-body{\r\n      height: 1350rpx;\r\n      background-color: #fff;\r\n      padding-left: 15px;\r\n     .form-item{\r\n       margin-left: 10px;\r\n     }\r\n      \r\n    }\r\n    .bottom-submit{\r\n        padding: 10px 5px;\r\n        width: 100%;\r\n        display: flex;\r\n        background-color: #fff;\r\n     \t\tflex-direction: column;\r\n     \t\tposition: fixed;\r\n     \t\tleft: 0;\r\n     \t\tright: 0;\r\n     \t\tleft: var(--window-left);\r\n     \t\tright: var(--window-right);\r\n     \t\tbottom: 0;\r\n       .submit{\r\n         width: 90%;\r\n         height: 40px;\r\n         border-radius: 50px;\r\n         line-height: 40px;\r\n       }\r\n    }\r\n    \r\n  }\r\n  button[type=primary]{\r\n      background-color:#007aff;\r\n  } \n</style>","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./regFault.vue?vue&type=style&index=0&id=10c07b74&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./regFault.vue?vue&type=style&index=0&id=10c07b74&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1677509613237\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}